<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>수영 연습 루틴</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 20px;
            background-color: #f0f8ff;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .title {
            font-size: 24px;
            font-weight: bold;
            color: #2d5016;
            margin-bottom: 10px;
        }
        .subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 20px;
        }
        .exercise-guide {
            background-color: white;
            border: 2px solid #2d5016;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .guide-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .guide-section {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #2d5016;
        }
        
        .guide-section h4 {
            margin: 0 0 10px 0;
            color: #2d5016;
            font-size: 16px;
        }
        
        .guide-link {
            display: block;
            color: #3498db;
            text-decoration: none;
            padding: 5px 0;
            font-size: 14px;
            transition: color 0.2s;
        }
        
        .guide-link:hover {
            color: #2980b9;
            text-decoration: underline;
        }

        /* 오늘 루틴 섹션 스타일 */
        .today-routine {
            background-color: white;
            border: 2px solid #2d5016;
            border-radius: 8px;
            padding: 20px;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .routine-header {
            font-size: 20px;
            font-weight: bold;
            color: #2d5016;
            margin-bottom: 15px;
            text-align: center;
        }

        .routine-info {
            text-align: center;
            margin-bottom: 20px;
            padding: 10px;
            background-color: #e7f4fc;
            border-radius: 5px;
            color: #2d5016;
            font-weight: bold;
        }
        
        .routine-groups {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .routine-group {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
        }
        
        .routine-group.warmup {
            border-left: 4px solid #3498db;
        }
        
        .routine-group.main {
            border-left: 4px solid #e74c3c;
        }
        
        .routine-group.cooldown {
            border-left: 4px solid #27ae60;
        }
        
        .routine-group h4 {
            margin: 0 0 15px 0;
            font-size: 16px;
            text-align: center;
        }
        
        .routine-group.warmup h4 { color: #3498db; }
        .routine-group.main h4 { color: #e74c3c; }
        .routine-group.cooldown h4 { color: #27ae60; }
        
        .routine-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .exercise-item {
            margin: 8px 0;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #ddd;
            text-align: center;
        }
        
        .exercise-name {
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 4px;
        }
        
        .exercise-duration {
            font-size: 12px;
            color: #666;
        }
        
        .exercise-item.warmup { 
            background-color: #e7f4fc; 
            border-color: #3498db; 
        }
        .exercise-item.warmup .exercise-name { color: #3498db; }
        
        .exercise-item.main { 
            background-color: #fce7e7; 
            border-color: #e74c3c; 
        }
        .exercise-item.main .exercise-name { color: #e74c3c; }
        
        .exercise-item.cooldown { 
            background-color: #e8f9e8; 
            border-color: #27ae60; 
        }
        .exercise-item.cooldown .exercise-name { color: #27ae60; }

        .exercise-item.completed {
            opacity: 0.6;
            text-decoration: line-through;
            background-color: #f0f0f0;
            border-color: #ccc;
        }
        
        .exercise-item.completed .exercise-name,
        .exercise-item.completed .exercise-duration {
            color: #888;
        }

        .exercise-item:hover:not(.completed) {
            transform: translateY(-2px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        @media (max-width: 768px) {
            .guide-links, .routine-groups {
                grid-template-columns: 1fr;
            }
            .exercise-name {
                font-size: 13px;
            }
            .exercise-duration {
                font-size: 11px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="title">🏊‍♂️ 수영 연습 루틴 🌊</div>
        <div class="subtitle">오늘의 루틴을 완료하고 체크하세요!</div>
    </div>

    <div class="exercise-guide">
        <h3 style="text-align: center; color: #2d5016; margin-bottom: 15px;">📋 수영 연습 가이드</h3>
        <div class="guide-links" id="guideLinks">
            <!-- 동적으로 생성됩니다 -->
        </div>
    </div>
    
    <div class="today-routine">
        <div class="routine-header" id="routineHeader"></div>
        <div class="routine-info">🕐 총 소요시간: 약 20분 (초보자 맞춤형)</div>
        <div class="routine-groups" id="routineGroups">
            <div class="routine-group warmup">
                <h4>🌊 스트레칭</h4>
                <ul class="routine-list" id="warmupList"></ul>
            </div>
            <div class="routine-group main">
                <h4>🏊‍♂️ 메인 드릴 </h4>
                <ul class="routine-list" id="mainList"></ul>
            </div>
            <div class="routine-group cooldown">
                <h4>🧘‍♂️ 마무리 </h4>
                <ul class="routine-list" id="cooldownList"></ul>
            </div>
        </div>
    </div>

    <script>
        // ★★★ 수정하기 쉬운 운동 데이터베이스 ★★★
        // 새로운 운동을 추가하거나 기존 운동을 수정할 때 이 부분만 수정하세요!
        
        const exerciseDatabase = {
            // 🌊 준비운동 (워밍업)
            warmup: [
                {
                    name: "가슴 & 어깨 스트레칭",
                    duration: "3분",
                    link: "https://www.youtube.com/watch?v=W8bV-kse8fw&t=4m17s",
                    emoji: "🤸‍♂️"
                },
                {
                    name: "발목 유연성 스트레칭 (20개 5세트)",
                    duration: "5분",
                    link: "https://www.youtube.com/watch?v=W8bV-kse8fw&t=10m14s",
                    emoji: "🦵"
                },
                {
                    name: "어깨 & 날개뼈 스트레칭 강화 동",
                    duration: "3분",
                    link: "https://www.youtube.com/watch?v=cRrrCRr-ruo&t=1m17s",
                    emoji: "🌀"
                },
                {
                    name: "스케퓰러 푸시업, 흉추 회전",
                    duration: "3분",
                    link: "https://www.youtube.com/watch?v=cRrrCRr-ruo&t=3m40s",
                    emoji: "🙆‍♂️"
                },
                {
                    name: "세라밴드 운동 (20개 5세트)",
                    duration: "5분",
                    link: "https://www.youtube.com/watch?v=W8bV-kse8fw&t=5m24s",
                    emoji: "💪"
                },
                {
                    name: "내전근 스트레칭, 고관절 스트레",
                    duration: "3분",
                    link: "https://www.youtube.com/watch?v=-NdJYz6KIJk&list=PL3wMjiGsvQGstIFB0N9DkwEYzKb7g0270&index=5&t=40s",
                    emoji: "💆‍♂️"
                }
            ],
            
            // 🏊‍♂️ 메인 연습
            main: [
                {
                    name: "플랭크(30초 3~5세트)",
                    duration: "3분 ",
                    link: "https://www.youtube.com/watch?v=ogopm6TKHNo&list=PL3wMjiGsvQGstIFB0N9DkwEYzKb7g0270&index=4&t=1m5s",
                    emoji: "🧘‍♂️"
                },
                {
                    name: "월싯, 클램쉘, 힙브릿지",
                    duration: "3분 (30초 3~5세트)",
                    link: "https://www.youtube.com/watch?v=-NdJYz6KIJk&list=PL3wMjiGsvQGstIFB0N9DkwEYzKb7g0270&index=5&t=3m10s",
                    emoji: "🧘‍♂️"
                },
                {
                    name: "숄더탭, 마운틴 클라이머 (10회 3~4세트)",
                    duration: "3분",
                    link: "https://www.youtube.com/watch?v=ogopm6TKHNo&list=PL3wMjiGsvQGstIFB0N9DkwEYzKb7g0270&index=4&t=9m0s",
                    emoji: "🧘‍♂️"
                },
                {
                    name: "평영 팔돌리기",
                    duration: "5분",
                    link: "https://www.youtube.com/watch?v=n030qdOt6Zo&list=PLhkZVYEI4DwOzDtwQ3BYgJsvR3-JHyjXj&index=19",
                    emoji: "🐸"
                },
                {
                    name: "배영 팔돌리기",
                    duration: "5분",
                    link: "https://www.youtube.com/watch?v=VaLg-SKvfDg&list=PLhkZVYEI4DwOzDtwQ3BYgJsvR3-JHyjXj&index=20",
                    emoji: "🏊‍♀️"
                },
                {
                    name: "접영 팔돌리기",
                    duration: "5분",
                    link: "https://www.youtube.com/watch?v=zyWs0LbkoRc&list=PLhkZVYEI4DwOzDtwQ3BYgJsvR3-JHyjXj&index=33",
                    emoji: "🦋"
                }                
            ],
            
            // 🧘‍♂️ 마무리 운동 (쿨다운)
            cooldown: [
                {
                    name: "편안한 자유형",
                    duration: "3분",
                    link: "https://www.youtube.com/watch?v=rJpFVvho0o4&list=PLhkZVYEI4DwOzDtwQ3BYgJsvR3-JHyjXj&index=2",
                    emoji: "🤸‍♀️"
                },
                {
                    name: "부드러운 자유형",
                    duration: "5분",
                    link: "https://www.youtube.com/watch?v=ZIj59iS7qVU&list=PLhkZVYEI4DwOzDtwQ3BYgJsvR3-JHyjXj&index=6",
                    emoji: "🤸‍♀️"
                },
                {
                    name: "배영 강좌",
                    duration: "4분",
                    link: "https://www.youtube.com/watch?v=sOA9VqXMyiw",
                    emoji: "🧘"
                },                
                {
                    name: "접영 이미지",
                    duration: "2분",
                    link: "https://www.youtube.com/watch?v=Ol0xX_Pv5yQ",
                    emoji: "🦋"
                },
                {
                    name: "자유형 파워 드릴",
                    duration: "2분",
                    link: "https://www.youtube.com/watch?v=vH9Ig05MlrM",
                    emoji: "🦵"
                },                
                {
                    name: "플립턴 이미지 트레이닝",
                    duration: "6분",
                    link: "https://www.youtube.com/watch?v=wfhCP7Xkej8&list=PLhkZVYEI4DwOzDtwQ3BYgJsvR3-JHyjXj&index=38",
                    emoji: "🔄"
                }                
            ]
        };

        // 카테고리별 한글 이름
        const categoryNames = {
            warmup: "🌊 준비운동",
            main: "🏊‍♂️ 메인 연습", 
            cooldown: "🧘‍♂️ 마무리 운동"
        };

        // 가이드 링크 동적 생성
        function generateGuideLinks() {
            const guideLinksContainer = document.getElementById('guideLinks');
            
            Object.keys(exerciseDatabase).forEach(category => {
                const section = document.createElement('div');
                section.className = 'guide-section';
                
                const title = document.createElement('h4');
                title.textContent = categoryNames[category];
                section.appendChild(title);
                
                exerciseDatabase[category].forEach(exercise => {
                    const link = document.createElement('a');
                    link.href = exercise.link;
                    link.target = '_blank';
                    link.className = 'guide-link';
                    link.innerHTML = `${exercise.emoji} ${exercise.name} (${exercise.duration})`;
                    section.appendChild(link);
                });
                
                guideLinksContainer.appendChild(section);
            });
        }

        // 랜덤 선택 함수
        function getRandomExercises(exercises, count) {
            const shuffled = [...exercises].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        // 오늘의 루틴 생성 및 표시
        function displayTodayRoutine() {
            const today = new Date();
            const todayDate = `${today.getMonth() + 1}월 ${today.getDate()}일`;
            const weekDays = ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"];
            
            document.getElementById('routineHeader').textContent = 
                `${todayDate} ${weekDays[today.getDay()]} - 오늘의 루틴`;
            
            // 각 카테고리별로 랜덤 선택 (초보자용 20분 구성)
            const todayRoutine = {
                warmup: getRandomExercises(exerciseDatabase.warmup, 2),    // 2개 선택 (약 5분)
                main: getRandomExercises(exerciseDatabase.main, 3),       // 3개 선택 (약 10분)
                cooldown: getRandomExercises(exerciseDatabase.cooldown, 2) // 2개 선택 (약 5분)
            };
            
            // LocalStorage에서 오늘 날짜의 완료 상태 가져오기
            const todayKey = today.toLocaleDateString();
            const savedProgress = JSON.parse(localStorage.getItem(todayKey) || '{}');
            
            // 각 그룹별 리스트 생성
            let exerciseIndex = 0;
            Object.keys(todayRoutine).forEach(category => {
                const listElement = document.getElementById(`${category}List`);
                listElement.innerHTML = '';
                
                todayRoutine[category].forEach(exercise => {
                    const isCompleted = savedProgress[exerciseIndex] || false;
                    const li = document.createElement('li');
                    li.className = `exercise-item ${category} ${isCompleted ? 'completed' : ''}`;
                    
                    li.innerHTML = `
                        <div class="exercise-name">${exercise.emoji} ${exercise.name}</div>
                        <div class="exercise-duration">${exercise.duration}</div>
                    `;
                    
                    // 클릭 이벤트 추가
                    li.onclick = () => toggleExercise(todayKey, exerciseIndex, li);
                    
                    listElement.appendChild(li);
                    exerciseIndex++;
                });
            });
        }
        
        // 운동 완료 상태 토글
        function toggleExercise(dateKey, index, element) {
            const savedProgress = JSON.parse(localStorage.getItem(dateKey) || '{}');
            
            if (element.classList.contains('completed')) {
                element.classList.remove('completed');
                delete savedProgress[index];
            } else {
                element.classList.add('completed');
                savedProgress[index] = true;
            }
            
            localStorage.setItem(dateKey, JSON.stringify(savedProgress));
        }

        // 페이지 로드 시 실행
        window.onload = function() {
            generateGuideLinks();
            displayTodayRoutine();
        };
    </script>
</body>
</html>
