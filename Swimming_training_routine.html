<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³¨í”„ ì—°ìŠµ ë£¨í‹´</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 20px;
            background-color: #f0f8ff;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .title {
            font-size: 24px;
            font-weight: bold;
            color: #2d5016;
            margin-bottom: 10px;
        }
        .subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 20px;
        }
        .exercise-guide {
            background-color: white;
            border: 2px solid #2d5016;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .guide-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .guide-section {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #2d5016;
        }
        
        .guide-section h4 {
            margin: 0 0 10px 0;
            color: #2d5016;
            font-size: 16px;
        }
        
        .guide-link {
            display: block;
            color: #3498db;
            text-decoration: none;
            padding: 5px 0;
            font-size: 14px;
            transition: color 0.2s;
        }
        
        .guide-link:hover {
            color: #2980b9;
            text-decoration: underline;
        }
        
        .guide-text {
            display: block;
            color: #666;
            padding: 5px 0;
            font-size: 14px;
        }

        /* ì˜¤ëŠ˜ ë£¨í‹´ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .today-routine {
            background-color: white;
            border: 2px solid #2d5016;
            border-radius: 8px;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .routine-header {
            font-size: 20px;
            font-weight: bold;
            color: #2d5016;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .routine-list {
            list-style: none;
            padding: 0;
        }
        
        .exercise-item {
            font-size: 14px;
            margin: 8px 0;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
            border: 1px solid #ddd;
        }
        
        .exercise-item.strength { background-color: #fce7e7; color: #e74c3c; border-color: #e74c3c; }
        .exercise-item.flexibility { background-color: #e7f4fc; color: #3498db; border-color: #3498db; }
        .exercise-item.golf-basic { background-color: #e8f9e8; color: #27ae60; border-color: #27ae60; }
        .exercise-item.warm-up { background-color: #fcfce7; color: #a1882e; border-color: #a1882e; }
        .exercise-item.balance { background-color: #e7f2f2; color: #438787; border-color: #438787; }
        .exercise-item.core { background-color: #e8e7fc; color: #6d4ed9; border-color: #6d4ed9; }

        .exercise-item.completed {
            opacity: 0.6;
            text-decoration: line-through;
            background-color: #f0f0f0;
            color: #888;
        }

        .exercise-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        @media (max-width: 768px) {
            .guide-links {
                grid-template-columns: 1fr;
            }
            .exercise-item {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="title">ğŸŒï¸ ê³¨í”„ ì—°ìŠµ ë£¨í‹´ â›³</div>
        <div class="subtitle">ì˜¤ëŠ˜ì˜ ë£¨í‹´ì„ ì™„ë£Œí•˜ê³  ì²´í¬í•˜ì„¸ìš”!</div>
    </div>

    <div class="exercise-guide">
        <h3 style="text-align: center; color: #2d5016; margin-bottom: 15px;">ğŸ“‹ ìš´ë™ë²• ê°€ì´ë“œ</h3>
        <div class="guide-links">
            <div class="guide-section">
                <h4>ğŸ’ª ê·¼ë ¥ ê°•í™” & ì½”ì–´</h4>
                <p class="guide-text">í”Œë­í¬: ì½”ì–´ ê°•í™”ì— ì¤‘ìš” [00:09:00].</p>
                <p class="guide-text">TheraBand ìš´ë™: ì–´ê¹¨ ì•ˆì •í™” [00:05:24].</p>
            </div>
            <div class="guide-section">
                <h4>ğŸ¤¸ ìœ ì—°ì„± ìš´ë™</h4>
                <p class="guide-text">ê°€ìŠ´ê³¼ ì–´ê¹¨ ìŠ¤íŠ¸ë ˆì¹­: ë¬¼ íë¥´ëŠ” ë“¯í•œ ëª¸ì˜ ì›€ì§ì„ì— ë„ì›€ [00:04:17].</p>
                <p class="guide-text">ë°œëª© ìŠ¤íŠ¸ë ˆì¹­: íŠ¹íˆ í‰ì˜ì— í•„ìˆ˜ [00:10:14].</p>
            </div>
            <div class="guide-section">
                <h4>ğŸ”— ì°¸ê³  ì˜ìƒ</h4>
                <a href="https://www.youtube.com/watch?v=W8bV-kse8fw" target="_blank" class="guide-link">
                    ğŸ“¹ í•„íˆ í•´ì•¼í•˜ëŠ” ë³´ê°•ìš´ë™ê³¼ ìŠ¤íŠ¸ë ˆì¹­
                </a>
            </div>
        </div>
    </div>
    
    <div class="today-routine">
        <div class="routine-header" id="routineHeader"></div>
        <ul class="routine-list" id="routineList">
            </ul>
    </div>

    <script>
        // ** ìš´ë™ ë£¨í‹´ ë°ì´í„° ì •ì˜ **
        // ìš”ì¼ì— ë”°ë¼ ë‹¤ë¥¸ ìš´ë™ì„ í•  ìˆ˜ ìˆë„ë¡ ë°°ì—´ë¡œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
        // weekDay: 1(ì›”), 2(í™”), 3(ìˆ˜), 4(ëª©), 5(ê¸ˆ), 6(í† ), 0(ì¼)
        // items: í•´ë‹¹ ìš”ì¼ì— í•  ìš´ë™ í•­ëª©ë“¤ì˜ ë°°ì—´
        const exerciseData = [
            // ì¼ìš”ì¼ (weekDay: 0) - íœ´ì‹ì¼
            {
                weekDay: 0,
                name: "íœ´ì‹ì¼",
                items: [
                    { name: "ê°€ë²¼ìš´ ì‚°ì±… ë˜ëŠ” ìŠ¤íŠ¸ë ˆì¹­", type: "flexibility" }
                ]
            },
            // ì›”, ìˆ˜, ê¸ˆìš”ì¼ (weekDay: 1, 3, 5) - ì½”ì–´ ë° ê·¼ë ¥ ê°•í™” ë£¨í‹´
            {
                weekDay: [1, 3, 5],
                name: "ì½”ì–´ & ê·¼ë ¥ ê°•í™” ë£¨í‹´",
                items: [
                    // TheraBand ìš´ë™ (ì–´ê¹¨ ì•ˆì •í™”)
                    { name: "TheraBand ì˜†ìœ¼ë¡œ ë‹¹ê¸°ê¸° (20íšŒÃ—5ì„¸íŠ¸)", type: "strength" },
                    { name: "TheraBand ì•„ë˜ë¡œ ë‹¹ê¸°ê¸° (20íšŒÃ—5ì„¸íŠ¸)", type: "strength" },
                    { name: "TheraBand ë’¤ë¡œ ë‹¹ê¸°ê¸° (20íšŒÃ—5ì„¸íŠ¸)", type: "strength" },
                    { name: "TheraBand ì•ˆìª½ìœ¼ë¡œ ë‹¹ê¸°ê¸° (20íšŒÃ—5ì„¸íŠ¸)", type: "strength" },
                    // ì½”ì–´ ë° ìŠ¤íŠ¸ë ˆì¹­
                    { name: "í”Œë­í¬ 30ì´ˆÃ—4ì„¸íŠ¸ (ê°•í•´ì§€ë©´ 1ë¶„ìœ¼ë¡œ ì¦ê°€)", type: "core" },
                    { name: "ê°€ìŠ´ & ì–´ê¹¨ ìŠ¤íŠ¸ë ˆì¹­", type: "flexibility" },
                    { name: "ë°œëª© ìœ ì—°ì„± ìŠ¤íŠ¸ë ˆì¹­", type: "flexibility" }
                ]
            },
            // í™”, ëª©, í† ìš”ì¼ (weekDay: 2, 4, 6) - ìœ ì—°ì„± ë° ê· í˜• ë£¨í‹´
            {
                weekDay: [2, 4, 6],
                name: "ìœ ì—°ì„± & ê· í˜• ë£¨í‹´",
                items: [
                    // ìŠ¤íŠ¸ë ˆì¹­
                    { name: "ê°€ìŠ´ & ì–´ê¹¨ ìŠ¤íŠ¸ë ˆì¹­", type: "flexibility" },
                    { name: "ë°œëª© ìœ ì—°ì„± ìŠ¤íŠ¸ë ˆì¹­", type: "flexibility" },
                    // ì½”ì–´
                    { name: "í”Œë­í¬ 30ì´ˆÃ—4ì„¸íŠ¸", type: "core" }
                ]
            }
        ];

        // ** í•¨ìˆ˜ ì •ì˜ **
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì˜¤ëŠ˜ ë‚ ì§œì˜ ë£¨í‹´ì„ ê°€ì ¸ì™€ì„œ í™”ë©´ì— í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
        function displayTodayRoutine() {
            const today = new Date();
            const dayOfWeek = today.getDay(); // 0(ì¼ìš”ì¼) ~ 6(í† ìš”ì¼)
            const todayDate = `${today.getMonth() + 1}ì›” ${today.getDate()}ì¼`;
            const weekDays = ["ì¼ìš”ì¼", "ì›”ìš”ì¼", "í™”ìš”ì¼", "ìˆ˜ìš”ì¼", "ëª©ìš”ì¼", "ê¸ˆìš”ì¼", "í† ìš”ì¼"];
            
            document.getElementById('routineHeader').textContent = `${todayDate} ${weekDays[dayOfWeek]} - ì˜¤ëŠ˜ì˜ ë£¨í‹´`;
            
            // ì˜¤ëŠ˜ ìš”ì¼ì— ë§ëŠ” ìš´ë™ ë£¨í‹´ ì°¾ê¸°
            const todayRoutine = exerciseData.find(routine => {
                if (Array.isArray(routine.weekDay)) {
                    return routine.weekDay.includes(dayOfWeek);
                } else {
                    return routine.weekDay === dayOfWeek;
                }
            });

            const routineList = document.getElementById('routineList');
            routineList.innerHTML = ''; // ê¸°ì¡´ ëª©ë¡ ì´ˆê¸°í™”
            
            // LocalStorageì—ì„œ ì˜¤ëŠ˜ ë‚ ì§œì˜ ì™„ë£Œ ìƒíƒœ ê°€ì ¸ì˜¤ê¸°
            const todayKey = today.toLocaleDateString();
            const savedTodayProgress = JSON.parse(localStorage.getItem(todayKey) || '{}');
            
            if (todayRoutine) {
                todayRoutine.items.forEach((exercise, index) => {
                    const isCompleted = savedTodayProgress[index] || false;
                    const li = document.createElement('li');
                    li.className = `exercise-item ${exercise.type} ${isCompleted ? 'completed' : ''}`;
                    li.textContent = exercise.name;
                    // í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
                    li.onclick = () => toggleExercise(todayKey, index, li);
                    routineList.appendChild(li);
                });
            } else {
                routineList.innerHTML = '<li>ì˜¤ëŠ˜ì˜ ë£¨í‹´ì´ ì—†ìŠµë‹ˆë‹¤.</li>';
            }
        }
        
        // ìš´ë™ í•­ëª©ì„ í´ë¦­í–ˆì„ ë•Œ ì™„ë£Œ ìƒíƒœë¥¼ í† ê¸€í•˜ê³  LocalStorageì— ì €ì¥í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
        function toggleExercise(dateKey, index, element) {
            const savedProgress = JSON.parse(localStorage.getItem(dateKey) || '{}');
            
            if (element.classList.contains('completed')) {
                element.classList.remove('completed');
                delete savedProgress[index];
            } else {
                element.classList.add('completed');
                savedProgress[index] = true;
            }
            
            localStorage.setItem(dateKey, JSON.stringify(savedProgress));
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ í•¨ìˆ˜ ì‹¤í–‰
        window.onload = displayTodayRoutine;
    </script>
</body>
</html>
